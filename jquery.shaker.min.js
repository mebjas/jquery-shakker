!function(t){function s(i,n,r){var p="0px ";if(r.x){var c=Math.round(100*Math.random())%3;0==c&&(p="-"+n+"px "),1==c&&(p="0px "),2==c&&(p=n+"px ")}if(r.y){var a=Math.round(100*Math.random())%3;0==a&&(p+="-"+n+"px"),1==a&&(p+="0px"),2==a&&(p+=n+"px")}t(i).css("background-position",p),o=setTimeout(function(){s(i,n,r)},e)}var o,e=100;t.fn.shakker=function(o){t(this).each(function(){console.log(t(this)),this.property={x:!0,y:!0},"undefined"!=typeof o.x&&(this.property.x=o.x?!0:!1),"undefined"!=typeof o.y&&(this.property.y=o.y?!0:!1);var e=this.offsetLeft,i=this.offsetTop,n=this.offsetWidth,r=this.offsetHeight,p=t(this).attr("src");try{var c=parseInt(t(this).zIndex())+1}catch(a){var c=100}var h=document.createElement("div");t(h).css("position","absolute"),t(h).css("background-size",n+"px "+r+"px"),t(h).css("overflow","hidden"),t(h).css("background-repeat","no-repeat"),t(h).css("background-position","0px 0px"),t(h).css("transition","background-position .3s"),t(h).css("top",i+"px"),t(h).css("left",e+"px"),t(h).css("width",n+"px"),t(h).css("height",r+"px"),t(h).css("opacity",".4"),t(h).css("background-image","url("+p+")"),t(h).css("z-index",c),t(h).innerHTML=" ",document.body.appendChild(h),s(h,r/15,{x:this.property.x,y:this.property.y})})}}(jQuery);
